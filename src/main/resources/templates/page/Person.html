<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <base href="/">
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="layui/css/layui.css"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>


<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>个人信息</legend>
</fieldset>

<form class="layui-form">
    <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <div class="layui-input-block">
            <img th:src="${'img/'+list[0].tea_img}" width="12%" height="20%" id="img"/>
        </div>
    </div>
    <div class="layui-form-item" >

        <div class="layui-input-block">
            <button type="button" class="layui-btn" id="test1">
                <i class="layui-icon">&#xe67c;</i>修改头像
            </button>
        </div>
    </div>
    <div class="layui-form-item" style="display:none">
        <label class="layui-form-label">id</label>
        <div class="layui-input-block">
            <input type="text" width="40%" th:value="${list[0].tea_id}"  name="id" lay-verify="title" readonly="readonly" autocomplete="off"  class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block">
            <input type="text" width="40%" th:value="${list[0].tea_name}"  name="username" lay-verify="title" readonly="readonly" autocomplete="off"  class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <input type="text" width="40%" th:value="${list[0].tea_sex}"  name="sex" lay-verify="required" readonly="readonly"  placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">联系方式</label>
        <div class="layui-input-block">
            <input type="text" width="40%" th:value="${list[0].tea_phone}"  name="phone" lay-verify="title" readonly="readonly" autocomplete="off"  class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">所属教务部</label>
        <div class="layui-input-block">
            <input type="text" width="40%" th:value="${list[0].ma_name+'/'+list[0].sc_name}"  name="jiao"  placeholder="请输入" readonly="readonly" autocomplete="off" class="layui-input">
        </div>
    </div>
</form>
<script src="layui/jquery-3.1.1.min.js"></script>
<script src="layui/layui.js"></script>
<script>

    layui.use('upload', function(){

        var upload = layui.upload;

        //执行实例
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
            ,url: 'tea/upload' //上传接口
            ,accept: 'file'
            ,done: function(res){
                //上传完毕回调
                alert(res.data)
                $("#img").attr("src","img/"+res.data)
            }
            ,error: function(res){
               alert(res.msg)
            }
        });
    });
</script>
</body>
</html>